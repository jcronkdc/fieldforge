export interface TimelineNode {
  id: string;
  parentId?: string;
  title: string;
  author: string;
  remixCount: number;
  isCanon: boolean;
  tags: string[];
  createdAt: string;
  sequence: number;
  collabInvites?: string[];
  responseWindowMinutes?: number;
  timeoutStrategy?: "ai_autofill" | "host_override";
  activeTurnExpiresAt?: string;
}

export type TimelineMap = Record<string, TimelineNode[]>;

const minutesFromNow = (minutes: number) => new Date(Date.now() + minutes * 60 * 1000).toISOString();

export const timelines: TimelineMap = {
  "City of Thousand Codes": [
    {
      id: "neon-root",
      title: "Neon Reverie",
      author: "@kyotoSignal",
      remixCount: 42,
      isCanon: true,
      tags: ["cyberpunk", "ai"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "neon-heist",
      parentId: "neon-root",
      title: "Aurora Heist",
      author: "@vectorflux",
      remixCount: 21,
      isCanon: true,
      tags: ["crew", "underground"],
      createdAt: "+2 days",
      sequence: 1,
      collabInvites: ["@lattice", "@ghostline"],
      responseWindowMinutes: 30,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(22),
    },
    {
      id: "neon-mirror",
      parentId: "neon-root",
      title: "Mirror Run",
      author: "@ghostline",
      remixCount: 12,
      isCanon: false,
      tags: ["glitch", "dream"],
      createdAt: "+3 days",
      sequence: 2,
    },
    {
      id: "neon-heist-alt",
      parentId: "neon-heist",
      title: "Aurora Heist: Divergence",
      author: "@kyotoSignal",
      remixCount: 9,
      isCanon: true,
      tags: ["betrayal"],
      createdAt: "+5 days",
      sequence: 3,
    },
    {
      id: "neon-drip",
      parentId: "neon-mirror",
      title: "Signal Drip",
      author: "@relayghost",
      remixCount: 7,
      isCanon: false,
      tags: ["memory", "noir"],
      createdAt: "+1 week",
      sequence: 4,
      collabInvites: ["@noirwave"],
      responseWindowMinutes: 60,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(48),
    },
  ],
  "Cauldron Collective": [
    {
      id: "harvest-root",
      title: "Harvest Moon Heist",
      author: "@briarpatch",
      remixCount: 31,
      isCanon: false,
      tags: ["heist", "witches"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "harvest-chaos",
      parentId: "harvest-root",
      title: "Cauldron Chaos",
      author: "@moonbrew",
      remixCount: 14,
      isCanon: false,
      tags: ["kitchen", "spell"],
      createdAt: "+3 days",
      sequence: 1,
      collabInvites: ["@cauldroncarol"],
      responseWindowMinutes: 45,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(30),
    },
    {
      id: "harvest-pantry",
      parentId: "harvest-root",
      title: "Royal Pantry Panic",
      author: "@briarpatch",
      remixCount: 10,
      isCanon: true,
      tags: ["royal", "comedy"],
      createdAt: "+4 days",
      sequence: 2,
    },
    {
      id: "harvest-broom",
      parentId: "harvest-pantry",
      title: "Broom Blitz",
      author: "@witchling",
      remixCount: 6,
      isCanon: false,
      tags: ["race", "prank"],
      createdAt: "+1 week",
      sequence: 3,
    },
  ],
  "Echoes of Apartment 12B": [
    {
      id: "retro-root",
      title: "Retro Tape #47",
      author: "@noirwave",
      remixCount: 18,
      isCanon: false,
      tags: ["cassette", "mystery"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "retro-voice",
      parentId: "retro-root",
      title: "Voice on Track B",
      author: "@noirwave",
      remixCount: 9,
      isCanon: true,
      tags: ["ghost", "detective"],
      createdAt: "+1 day",
      sequence: 1,
      collabInvites: ["@echoengineer", "@tapesmith"],
      responseWindowMinutes: 30,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(18),
    },
    {
      id: "retro-record",
      parentId: "retro-voice",
      title: "Record of Tomorrow",
      author: "@tapesmith",
      remixCount: 4,
      isCanon: false,
      tags: ["time", "loop"],
      createdAt: "+3 days",
      sequence: 2,
    },
  ],
  "Atlas of Whispering Isles": [
    {
      id: "wind-root",
      title: "The Librarian of Wind",
      author: "@islewalker",
      remixCount: 24,
      isCanon: true,
      tags: ["memory", "wind"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "wind-memory",
      parentId: "wind-root",
      title: "Memory Constellations",
      author: "@islewalker",
      remixCount: 11,
      isCanon: true,
      tags: ["atlas", "stars"],
      createdAt: "+4 days",
      sequence: 1,
    },
    {
      id: "wind-rebellion",
      parentId: "wind-root",
      title: "Whisper Rebellion",
      author: "@seafoam",
      remixCount: 5,
      isCanon: false,
      tags: ["rebels", "wind"],
      createdAt: "+1 week",
      sequence: 2,
    },
  ],
  "Orbital Echo": [
    {
      id: "signal-root",
      title: "Signal Lost",
      author: "@relayghost",
      remixCount: 39,
      isCanon: true,
      tags: ["crew", "countdown"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "signal-stowaway",
      parentId: "signal-root",
      title: "Stowaway Protocol",
      author: "@relayghost",
      remixCount: 16,
      isCanon: true,
      tags: ["trust", "team"],
      createdAt: "+2 days",
      sequence: 1,
      collabInvites: ["@rookie", "@captain"],
      responseWindowMinutes: 20,
      timeoutStrategy: "ai_autofill",
    },
    {
      id: "signal-split",
      parentId: "signal-root",
      title: "Split Frequency",
      author: "@vectorflux",
      remixCount: 8,
      isCanon: false,
      tags: ["signal", "ai"],
      createdAt: "+5 days",
      sequence: 2,
    },
  ],
  "Nebula Choir": [
    {
      id: "nebula-root",
      title: "Auroral Choir",
      author: "@stellarhythm",
      remixCount: 27,
      isCanon: false,
      tags: ["orchestra", "rebellion"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "nebula-conductor",
      parentId: "nebula-root",
      title: "Conductor's Gambit",
      author: "@stellarhythm",
      remixCount: 14,
      isCanon: true,
      tags: ["strategy", "broadcast"],
      createdAt: "+3 days",
      sequence: 1,
      collabInvites: ["@pulsechorus"],
      responseWindowMinutes: 35,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(26),
    },
    {
      id: "nebula-harmony",
      parentId: "nebula-root",
      title: "Harmony Strike",
      author: "@frequency",
      remixCount: 8,
      isCanon: false,
      tags: ["stealth", "anthem"],
      createdAt: "+5 days",
      sequence: 2,
    },
  ],
  "Verdant Wildcall": [
    {
      id: "verdant-root",
      title: "Verdant Wildcall",
      author: "@rootweaver",
      remixCount: 33,
      isCanon: true,
      tags: ["forest", "ritual"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "verdant-howl",
      parentId: "verdant-root",
      title: "Moon Howl Pact",
      author: "@rootweaver",
      remixCount: 12,
      isCanon: true,
      tags: ["beasts", "oath"],
      createdAt: "+1 night",
      sequence: 1,
    },
    {
      id: "verdant-ambush",
      parentId: "verdant-root",
      title: "Iron Ambush",
      author: "@briarclaw",
      remixCount: 9,
      isCanon: false,
      tags: ["ambush", "rescue"],
      createdAt: "+4 days",
      sequence: 2,
      collabInvites: ["@fernrunner"],
      responseWindowMinutes: 50,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(40),
    },
  ],
  "Clockwork Bazaar": [
    {
      id: "clockwork-root",
      title: "Clockwork Bazaar",
      author: "@gearling",
      remixCount: 22,
      isCanon: false,
      tags: ["market", "puzzle"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "clockwork-cog",
      parentId: "clockwork-root",
      title: "Missing Cog Mystery",
      author: "@gearling",
      remixCount: 11,
      isCanon: true,
      tags: ["mystery", "sleuth"],
      createdAt: "+12 hours",
      sequence: 1,
    },
    {
      id: "clockwork-trader",
      parentId: "clockwork-root",
      title: "Trader's Wager",
      author: "@brassledger",
      remixCount: 6,
      isCanon: false,
      tags: ["bargain", "risk"],
      createdAt: "+2 days",
      sequence: 2,
    },
  ],
  "Midnight Archive": [
    {
      id: "midnight-root",
      title: "Midnight Archive",
      author: "@inkthreshold",
      remixCount: 19,
      isCanon: true,
      tags: ["moonlight", "secret"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "midnight-stairs",
      parentId: "midnight-root",
      title: "Staircase of Secrets",
      author: "@inkthreshold",
      remixCount: 7,
      isCanon: false,
      tags: ["memory", "trade"],
      createdAt: "+1 day",
      sequence: 1,
      collabInvites: ["@whisperpage"],
      responseWindowMinutes: 40,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(34),
    },
  ],
  "Crimson Circuit": [
    {
      id: "crimson-root",
      title: "Crimson Circuit",
      author: "@pulsecaster",
      remixCount: 28,
      isCanon: false,
      tags: ["grid", "race"],
      createdAt: "Core",
      sequence: 0,
    },
    {
      id: "crimson-hub",
      parentId: "crimson-root",
      title: "Hub Run",
      author: "@pulsecaster",
      remixCount: 13,
      isCanon: true,
      tags: ["relay", "chase"],
      createdAt: "+3 hours",
      sequence: 1,
    },
    {
      id: "crimson-flux",
      parentId: "crimson-hub",
      title: "Flux Override",
      author: "@vectorflux",
      remixCount: 5,
      isCanon: false,
      tags: ["override", "hacking"],
      createdAt: "+8 hours",
      sequence: 2,
      collabInvites: ["@relayghost"],
      responseWindowMinutes: 25,
      timeoutStrategy: "ai_autofill",
      activeTurnExpiresAt: minutesFromNow(20),
    },
  ],
};

