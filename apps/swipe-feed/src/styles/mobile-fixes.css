/**
 * Mobile Layout Fixes
 * Ensures proper spacing and no overlapping on mobile devices
 */

/* Mobile-specific adjustments */
@media (max-width: 768px) {
  /* Fix dashboard tabs on mobile */
  .dashboard-tabs {
    display: flex;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }
  
  .dashboard-tabs::-webkit-scrollbar {
    display: none;
  }

  /* Prevent AI Assistant from overlapping */
  .floating-omniguide-button {
    bottom: 80px !important; /* Move above mobile navigation */
    right: 16px !important;
    z-index: 40 !important;
  }

  /* Fix notification icon positioning */
  .notification-badge {
    top: 16px !important;
    right: 16px !important;
    z-index: 30 !important;
  }

  /* Mobile navigation spacing */
  .mobile-nav {
    padding-bottom: env(safe-area-inset-bottom);
    padding-bottom: constant(safe-area-inset-bottom);
  }

  /* Command center responsive */
  .command-center-header {
    flex-direction: column;
    gap: 1rem;
  }

  .command-center-clock {
    width: 100%;
    text-align: center;
  }

  /* Module tabs horizontal scroll */
  .module-tabs-container {
    display: flex;
    gap: 0.5rem;
    overflow-x: auto;
    padding-bottom: 0.5rem;
    -webkit-overflow-scrolling: touch;
  }

  /* Stats grid responsive */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Quick actions responsive */
  .quick-actions-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  /* Activity feed full width on mobile */
  .activity-feed-container {
    grid-column: span 1 !important;
  }

  /* System status below activity on mobile */
  .system-status-container {
    grid-column: span 1 !important;
    margin-top: 1rem;
  }

  /* Chat window mobile positioning */
  .session-chat {
    bottom: 80px !important;
    right: 8px !important;
    left: 8px !important;
    max-width: none !important;
    width: auto !important;
  }

  /* Save/Load buttons mobile */
  .session-manager-buttons {
    top: auto !important;
    bottom: 140px !important;
    right: 16px !important;
    flex-direction: column !important;
  }

  /* Modal dialogs mobile */
  .modal-dialog {
    margin: 1rem !important;
    max-width: calc(100vw - 2rem) !important;
    max-height: calc(100vh - 100px) !important;
  }

  /* OmniGuide chat mobile */
  .omniguide-chat {
    bottom: 80px !important;
    right: 0 !important;
    left: 0 !important;
    max-width: 100% !important;
    border-radius: 0 !important;
    border-left: none !important;
    border-right: none !important;
  }

  /* Refresh button repositioning */
  .refresh-button {
    position: fixed !important;
    bottom: 100px !important;
    left: 16px !important;
    z-index: 30 !important;
  }

  /* Text size adjustments */
  .dashboard-title {
    font-size: 1.5rem !important;
  }

  .module-label {
    font-size: 0.625rem !important;
  }

  .stat-value {
    font-size: 1.25rem !important;
  }

  /* Padding adjustments */
  .dashboard-content {
    padding: 1rem !important;
  }

  .card-padding {
    padding: 0.75rem !important;
  }

  /* Prevent horizontal scroll */
  body {
    overflow-x: hidden !important;
  }

  .main-container {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
}

/* Tablet adjustments */
@media (min-width: 769px) and (max-width: 1024px) {
  .stats-grid {
    grid-template-columns: repeat(2, 1fr) !important;
  }

  .quick-actions-grid {
    grid-template-columns: repeat(3, 1fr) !important;
  }

  .activity-feed-container {
    grid-column: span 2 !important;
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  .mobile-nav {
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }

  .floating-elements {
    bottom: max(80px, calc(60px + env(safe-area-inset-bottom))) !important;
  }
}
