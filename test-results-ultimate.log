

╔════════════════════════════════════════════════════════════════════════════════╗
║                                                                                ║
║            FIELDFORGE ULTIMATE COMPREHENSIVE TEST SUITE                        ║
║                                                                                ║
║                  Mycelial Network Integrity Verification                       ║
║                                                                                ║
╚════════════════════════════════════════════════════════════════════════════════╝

Testing: https://fieldforge.vercel.app
Mode: production
Started: 2025-11-20T15:41:14.629Z


================================================================================
Health Checks
================================================================================

❌ [Health Checks] Health endpoint responds: Invalid response format
✅ [Health Checks] API health endpoint: Version: 1.0.0, Timestamp: 2025-11-20T15:41:15.164Z
✅ [Health Checks] Response time: 136ms (excellent)

================================================================================
API Endpoints
================================================================================

✅ [API Endpoints] GET /health: Status: 200 (expected: 200)
✅ [API Endpoints] GET /api/health: Status: 200 (expected: 200)
❌ [API Endpoints] GET /api/leads: Unexpected status: 500 (expected: 200/401)
❌ [API Endpoints] GET /api/leads: 500 INTERNAL SERVER ERROR - Critical issue
❌ [API Endpoints] GET /api/acquisition-inquiry: Unexpected status: 500 (expected: 200/404/405)
❌ [API Endpoints] GET /api/acquisition-inquiry: 500 INTERNAL SERVER ERROR - Critical issue
✅ [API Endpoints] GET /api/users: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/company: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/field-ops: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/projects: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/equipment: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/equipment/testing: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/safety: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/analytics: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/crews: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/qaqc: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/documents: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/documents/drawings: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/scheduling: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/operations: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/testing: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/reporting: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/inventory: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/receipts: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/environmental: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/emergency: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/feedback: Status: 401 (expected: 401/405)
✅ [API Endpoints] GET /api/submittals: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/outages: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/map: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/substations: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/ai: Status: 401 (expected: 401/404/405)
✅ [API Endpoints] GET /api/payments: Status: 401 (expected: 401/404/405)
✅ [API Endpoints] GET /api/messaging: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/collaboration: Status: 401 (expected: 401/404/405)
✅ [API Endpoints] GET /api/feed: Status: 401 (expected: 401)
✅ [API Endpoints] GET /api/notifications: Status: 401 (expected: 401)
❌ [API Endpoints] GET /api/nonexistent: Unexpected status: 401 (expected: 404)
❌ [API Endpoints] GET /api/fake/route: Unexpected status: 401 (expected: 404)

================================================================================
Authentication & Security
================================================================================

✅ [Authentication & Security] Protected routes require auth: Projects endpoint correctly returns 401
✅ [Authentication & Security] Invalid token rejected: System correctly rejects invalid tokens
❌ [Authentication & Security] CORS headers present: this.results.warnings.push is not a function
✅ [Authentication & Security] Security header: x-frame-options: Present
✅ [Authentication & Security] Security header: x-content-type-options: Present
✅ [Authentication & Security] Security header: strict-transport-security: Present
  Testing rate limiting (making rapid requests)...
❌ [Authentication & Security] Rate limiting check: this.results.warnings.push is not a function

================================================================================
Database
================================================================================

✅ [Database] Migration files present: Found 35 migration files
✅ [Database] Database schema file: Schema file exists (18.3KB)
✅ [Database] Neon CLI available: 2.18.0
✅ [Database] Supabase CLI available: 2.54.11

================================================================================
Frontend Routes
================================================================================

✅ [Frontend Routes] Route: /: Status: 200
✅ [Frontend Routes] Route: /login: Status: 200
✅ [Frontend Routes] Route: /signup: Status: 200
✅ [Frontend Routes] Route: /dashboard: Status: 200
✅ [Frontend Routes] Route: /projects: Status: 200
✅ [Frontend Routes] Route: /safety: Status: 200
✅ [Frontend Routes] Route: /equipment: Status: 200
✅ [Frontend Routes] Route: /qaqc: Status: 200
✅ [Frontend Routes] Route: /documents: Status: 200
✅ [Frontend Routes] Route: /scheduling: Status: 200
✅ [Frontend Routes] Route: /operations: Status: 200
✅ [Frontend Routes] Route: /testing: Status: 200
✅ [Frontend Routes] Route: /receipts: Status: 200
✅ [Frontend Routes] Route: /environmental: Status: 200
✅ [Frontend Routes] Route: /emergency: Status: 200
✅ [Frontend Routes] Route: /submittals: Status: 200
✅ [Frontend Routes] Route: /outages: Status: 200
✅ [Frontend Routes] Route: /map: Status: 200
✅ [Frontend Routes] Route: /substations: Status: 200
✅ [Frontend Routes] Route: /crews: Status: 200
✅ [Frontend Routes] Route: /field-ops: Status: 200
✅ [Frontend Routes] Route: /inventory: Status: 200
✅ [Frontend Routes] Route: /weather: Status: 200
✅ [Frontend Routes] Route: /feed: Status: 200
✅ [Frontend Routes] Route: /messaging: Status: 200
✅ [Frontend Routes] Route: /company: Status: 200
✅ [Frontend Routes] Route: /settings: Status: 200

================================================================================
Performance
================================================================================

✅ [Performance] Cold start time: 123ms (excellent)
✅ [Performance] Average response time: 104ms avg (99-115ms range)
✅ [Performance] Concurrent requests: 5 requests in 481ms

================================================================================
Deployment
================================================================================

✅ [Deployment] Vercel CLI available: 48.10.2
✅ [Deployment] Vercel deployment status: Can access deployments
✅ [Deployment] Vercel configuration: vercel.json properly configured
✅ [Deployment] Environment variables: Service name configured correctly
✅ [Deployment] Build artifacts: Both backend and frontend built

================================================================================
Integration
================================================================================

✅ [Integration] Frontend → API integration: Both frontend and API accessible
❌ [Integration] API endpoints in frontend: this.results.warnings.push is not a function
✅ [Integration] Database → API timing: API timestamp is current

================================================================================
Security Audit
================================================================================

✅ [Security Audit] SQL injection protection: Auth layer blocks malicious input
✅ [Security Audit] XSS protection header: Value: 1; mode=block
✅ [Security Audit] HTTPS enforcement (HSTS): Present: max-age=31536000; includeSubDomains; preload
✅ [Security Audit] Sensitive data exposure: No sensitive data in public endpoint

================================================================================
Error Handling
================================================================================

❌ [Error Handling] 404 error handling: Expected 404, got 401
✅ [Error Handling] Error handling (invalid auth): Returns 401, not 500
✅ [Error Handling] Malformed JSON handling: Returns 400 - handled gracefully


╔════════════════════════════════════════════════════════════════════════════════╗
║                                                                                ║
║                              TEST SUMMARY                                      ║
║                                                                                ║
╚════════════════════════════════════════════════════════════════════════════════╝

Total Tests:    98
✅ Passed:      87 (88.78%)
❌ Failed:      11
⚠️  Warnings:   undefined
⏭️  Skipped:    0
⏱️  Duration:   24.01s


❌ FAILURES:

1. [Health Checks] Health endpoint responds
   Error: Invalid response format

2. [API Endpoints] GET /api/leads
   Error: Unexpected status: 500 (expected: 200/401)

3. [API Endpoints] GET /api/leads
   Error: 500 INTERNAL SERVER ERROR - Critical issue

4. [API Endpoints] GET /api/acquisition-inquiry
   Error: Unexpected status: 500 (expected: 200/404/405)

5. [API Endpoints] GET /api/acquisition-inquiry
   Error: 500 INTERNAL SERVER ERROR - Critical issue

6. [API Endpoints] GET /api/nonexistent
   Error: Unexpected status: 401 (expected: 404)

7. [API Endpoints] GET /api/fake/route
   Error: Unexpected status: 401 (expected: 404)

8. [Authentication & Security] CORS headers present
   Error: this.results.warnings.push is not a function

9. [Authentication & Security] Rate limiting check
   Error: this.results.warnings.push is not a function

10. [Integration] API endpoints in frontend
   Error: this.results.warnings.push is not a function

11. [Error Handling] 404 error handling
   Error: Expected 404, got 401


Detailed report saved to: /Users/justincronk/Desktop/FieldForge/COMPREHENSIVE_TEST_REPORT.json

❌ Fatal error running tests: TypeError: summary.warnings.some is not a function
    at generateMarkdownReport (file:///Users/justincronk/Desktop/FieldForge/COMPREHENSIVE_TEST_SUITE_ULTIMATE.js:1140:24)
    at runAllTests (file:///Users/justincronk/Desktop/FieldForge/COMPREHENSIVE_TEST_SUITE_ULTIMATE.js:1038:20)
